pipeline {
	agent any
	tools {
		maven 'maven-3.6.1'
		jdk 'jdk-8u222'
	}
	stages {
		stage('git checkout'){
			sh "git pull"
			sh "git checkout backend-controller-logic"
		}
		stage ('Check ENV') {
			steps {
				sh "mvn -v"
				sh "java -version"
			}
		}
		stage ('Test project') {
			steps {
				sh "cd spring/spring-project-backend && mvn test"
			}
		}
		stage ('Build project') {
			steps {
				sh "cd spring/spring-project-backend && mvn package"
			}
		}
	}
}